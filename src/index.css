@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   PartRunner DocVal AI - Design System
   Mobile-First + Enhanced Visual Design
======================================== */

:root {
  --pr-charcoal: #0D0D0D;
  --pr-dark: #141414;
  --pr-gray: #1F1F1F;
  --pr-muted: #6B7280;
  --pr-amber: #F5B301;
  --pr-amber-light: #FFD54F;
  --pr-amber-dark: #D49B00;
  --pr-white: #F9FAFB;
  
  /* New accent colors */
  --pr-teal: #14B8A6;
  --pr-purple: #A855F7;
  --pr-blue: #3B82F6;
  
  /* Safe areas for mobile */
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
  -webkit-tap-highlight-color: transparent;
}

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
}

body {
  background-color: var(--pr-charcoal);
  color: var(--pr-white);
  font-family: 'Inter', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  padding-top: var(--safe-top);
  padding-bottom: var(--safe-bottom);
  overscroll-behavior: none;
}

/* Selection */
::selection {
  background-color: var(--pr-amber);
  color: black;
}

/* Focus - larger for touch */
*:focus-visible {
  outline: 3px solid var(--pr-amber);
  outline-offset: 2px;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--pr-amber);
  border-radius: 4px;
}

/* ========================================
   Enhanced Gradients & Visual Effects
======================================== */

/* Main gradient backgrounds */
.gradient-primary {
  background: linear-gradient(135deg, var(--pr-amber) 0%, var(--pr-amber-light) 50%, #FFA726 100%);
}

.gradient-dark {
  background: linear-gradient(180deg, var(--pr-dark) 0%, var(--pr-charcoal) 100%);
}

.gradient-card {
  background: linear-gradient(145deg, rgba(31, 31, 31, 0.9) 0%, rgba(20, 20, 20, 0.95) 100%);
}

.gradient-success {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.2) 0%, rgba(16, 185, 129, 0.1) 100%);
}

.gradient-error {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.1) 100%);
}

.gradient-amber-subtle {
  background: linear-gradient(135deg, rgba(245, 179, 1, 0.1) 0%, rgba(255, 213, 79, 0.05) 100%);
}

/* Gradient text */
.text-gradient {
  background: linear-gradient(135deg, var(--pr-amber) 0%, var(--pr-amber-light) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-fancy {
  background: linear-gradient(135deg, var(--pr-amber) 0%, var(--pr-amber-light) 50%, var(--pr-teal) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Gradient borders */
.border-gradient {
  position: relative;
  border: none;
}

.border-gradient::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, var(--pr-amber), var(--pr-amber-light), transparent);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* Noise Texture */
.bg-noise::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.02;
  pointer-events: none;
  z-index: 0;
}

/* Glow Effects - Enhanced */
.glow-amber {
  box-shadow: 
    0 0 20px rgba(245, 179, 1, 0.2),
    0 0 40px rgba(245, 179, 1, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.glow-amber-strong {
  box-shadow: 
    0 0 30px rgba(245, 179, 1, 0.4),
    0 0 60px rgba(245, 179, 1, 0.2),
    0 4px 20px rgba(0, 0, 0, 0.3);
}

.glow-success {
  box-shadow: 
    0 0 20px rgba(34, 197, 94, 0.3),
    0 0 40px rgba(34, 197, 94, 0.1);
}

.glow-error {
  box-shadow: 
    0 0 20px rgba(239, 68, 68, 0.3),
    0 0 40px rgba(239, 68, 68, 0.1);
}

/* Glass Effect - Enhanced */
.glass {
  background: rgba(31, 31, 31, 0.7);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.glass-strong {
  background: rgba(20, 20, 20, 0.85);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* ========================================
   Component Classes - Mobile Optimized
======================================== */

@layer components {
  /* Cards - Enhanced with gradients */
  .card {
    @apply rounded-2xl overflow-hidden relative;
    background: linear-gradient(145deg, rgba(31, 31, 31, 0.9) 0%, rgba(20, 20, 20, 0.95) 100%);
    border: 1px solid rgba(255, 255, 255, 0.06);
    backdrop-filter: blur(12px);
  }

  .card-elevated {
    @apply card;
    box-shadow: 
      0 4px 24px -4px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }

  .card-header {
    @apply p-4 border-b border-white/5;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.03) 0%, transparent 100%);
  }

  .card-body {
    @apply p-4;
  }

  /* Buttons - Touch-friendly (min 44px touch target) */
  .btn {
    @apply inline-flex items-center justify-center gap-2 px-5 py-3
           font-semibold rounded-xl transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-pr-charcoal
           disabled:opacity-50 disabled:cursor-not-allowed
           active:scale-[0.97];
    min-height: 48px;
    min-width: 48px;
  }

  .btn-primary {
    @apply btn text-pr-charcoal font-bold;
    background: linear-gradient(135deg, var(--pr-amber) 0%, var(--pr-amber-light) 100%);
    box-shadow: 
      0 4px 14px rgba(245, 179, 1, 0.4),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  .btn-primary:hover {
    box-shadow: 
      0 6px 20px rgba(245, 179, 1, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
  }

  .btn-primary:active {
    box-shadow: 
      0 2px 8px rgba(245, 179, 1, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .btn-secondary {
    @apply btn bg-pr-gray text-pr-white border border-white/10;
    background: linear-gradient(145deg, rgba(31, 31, 31, 1) 0%, rgba(25, 25, 25, 1) 100%);
  }

  .btn-secondary:hover {
    background: linear-gradient(145deg, rgba(40, 40, 40, 1) 0%, rgba(31, 31, 31, 1) 100%);
    border-color: rgba(255, 255, 255, 0.15);
  }

  .btn-ghost {
    @apply btn bg-transparent hover:bg-white/5 text-pr-muted hover:text-pr-white;
  }

  .btn-danger {
    @apply btn text-red-400;
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.2) 0%, rgba(220, 38, 38, 0.15) 100%);
    border: 1px solid rgba(239, 68, 68, 0.3);
  }

  .btn-sm {
    @apply px-4 py-2 text-sm rounded-lg;
    min-height: 40px;
  }

  .btn-lg {
    @apply px-8 py-4 text-lg rounded-2xl;
    min-height: 56px;
  }

  /* Inputs - Touch-friendly */
  .input {
    @apply w-full px-4 py-4 rounded-xl
           text-pr-white placeholder-pr-muted text-base
           focus:outline-none focus:ring-2 focus:ring-pr-amber/50
           transition-all duration-200;
    background: linear-gradient(145deg, rgba(20, 20, 20, 1) 0%, rgba(15, 15, 15, 1) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
    min-height: 52px;
  }

  .input:focus {
    border-color: var(--pr-amber);
    box-shadow: 0 0 0 3px rgba(245, 179, 1, 0.1);
  }

  /* Labels */
  .label {
    @apply block text-xs font-bold text-pr-muted uppercase tracking-wider mb-2;
  }

  /* Badges - Enhanced */
  .badge {
    @apply inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold;
  }

  .badge-success {
    @apply badge text-green-400;
    background: linear-gradient(135deg, rgba(34, 197, 94, 0.25) 0%, rgba(16, 185, 129, 0.15) 100%);
    border: 1px solid rgba(34, 197, 94, 0.4);
    box-shadow: 0 0 12px rgba(34, 197, 94, 0.2);
  }

  .badge-error {
    @apply badge text-red-400;
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.25) 0%, rgba(220, 38, 38, 0.15) 100%);
    border: 1px solid rgba(239, 68, 68, 0.4);
    box-shadow: 0 0 12px rgba(239, 68, 68, 0.2);
  }

  .badge-warning {
    @apply badge text-orange-400;
    background: linear-gradient(135deg, rgba(249, 115, 22, 0.25) 0%, rgba(234, 88, 12, 0.15) 100%);
    border: 1px solid rgba(249, 115, 22, 0.4);
  }

  .badge-info {
    @apply badge text-blue-400;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(37, 99, 235, 0.15) 100%);
    border: 1px solid rgba(59, 130, 246, 0.4);
  }

  .badge-neutral {
    @apply badge text-pr-muted;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }

  .badge-amber {
    @apply badge text-pr-amber;
    background: linear-gradient(135deg, rgba(245, 179, 1, 0.25) 0%, rgba(255, 213, 79, 0.15) 100%);
    border: 1px solid rgba(245, 179, 1, 0.4);
    box-shadow: 0 0 12px rgba(245, 179, 1, 0.15);
  }

  /* Status Dots - Enhanced with animation */
  .status-dot {
    @apply w-3 h-3 rounded-full;
  }

  .status-dot-success {
    @apply status-dot bg-green-500;
    box-shadow: 0 0 12px rgba(34, 197, 94, 0.6);
  }

  .status-dot-error {
    @apply status-dot bg-red-500;
    box-shadow: 0 0 12px rgba(239, 68, 68, 0.6);
  }

  .status-dot-warning {
    @apply status-dot bg-orange-500;
    box-shadow: 0 0 12px rgba(249, 115, 22, 0.6);
  }

  .status-dot-pending {
    @apply status-dot bg-pr-muted/60;
  }

  .status-dot-analyzing {
    @apply status-dot bg-pr-amber animate-pulse;
    box-shadow: 0 0 16px rgba(245, 179, 1, 0.7);
  }

  /* Section dividers */
  .section-divider {
    @apply h-px w-full;
    background: linear-gradient(90deg, transparent 0%, rgba(245, 179, 1, 0.3) 50%, transparent 100%);
  }
}

/* ========================================
   Animations - Enhanced
======================================== */

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(245, 179, 1, 0.1) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

@keyframes pulse-ring {
  0% { transform: scale(0.9); opacity: 0.8; }
  50% { transform: scale(1.1); opacity: 0.4; }
  100% { transform: scale(0.9); opacity: 0.8; }
}

.animate-pulse-ring {
  animation: pulse-ring 2s ease-in-out infinite;
}

@keyframes float {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 20px rgba(245, 179, 1, 0.3); }
  50% { box-shadow: 0 0 40px rgba(245, 179, 1, 0.5); }
}

.animate-glow-pulse {
  animation: glow-pulse 2s ease-in-out infinite;
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.animate-gradient {
  background-size: 200% 200%;
  animation: gradient-shift 3s ease infinite;
}

/* ========================================
   Toast Customization - Mobile
======================================== */

.toast-enter {
  animation: toastEnter 0.35s ease-out forwards;
}

.toast-exit {
  animation: toastExit 0.25s ease-in forwards;
}

@keyframes toastEnter {
  from {
    transform: translateY(-100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes toastExit {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(-100%);
    opacity: 0;
  }
}

/* ========================================
   Mobile-First Responsive Utilities
======================================== */

/* Hide scrollbars on mobile but keep functionality */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    display: none;
  }
  
  body {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  /* Larger touch targets */
  button, a, [role="button"] {
    min-height: 44px;
  }
  
  /* Better text readability */
  .text-xs {
    font-size: 0.8125rem;
    line-height: 1.4;
  }
}

/* Safe area padding for notched devices */
@supports (padding-top: env(safe-area-inset-top)) {
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}

/* ========================================
   Custom Scrollbar for Horizontal Scroll
======================================== */

.scroll-snap-x {
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
}

.scroll-snap-center {
  scroll-snap-align: center;
}

/* ========================================
   Backdrop blur fallback
======================================== */

@supports not (backdrop-filter: blur(12px)) {
  .glass, .card {
    background: rgba(31, 31, 31, 0.95);
  }
}
